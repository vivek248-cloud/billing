{% extends 'projects/base.html' %}

{% block content %}

<div class="edit-project-wrapper">

  <div class="edit-project-card">
    <div class="edit-header">
      <h3>Edit Project</h3>
      <p>Update project details carefully</p>
    </div>

    {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="post">
      {% csrf_token %}

      <div class="form-grid">

        <div class="form-group">
          <label>Project Name</label>
          <input type="text" name="name" value="{{ project.name }}" required>
        </div>

        <div class="form-group">
          <label>Client Name</label>
          <input type="text" name="client_name" value="{{ project.client_name }}">
        </div>

        <div class="form-group">
          <label>Phone</label>
          <input type="text" name="phone" value="{{ project.phone }}">
        </div>

        <div class="form-group">
          <label>Budget (₹)</label>
          <input type="number" step="0.01" name="budget" value="{{ project.budget }}">
        </div>

        <div class="form-group">
          <label>Estimated Cost (₹)</label>
          <input type="number" step="0.01" name="estimated_cost" value="{{ project.estimated_cost }}">
        </div>

        <div class="form-group">
          <label>Status</label>
          <select name="status">
            {% for key, label in statuses %}
              <option value="{{ key }}" {% if project.status == key %}selected{% endif %}>
                {{ label }}
              </option>
            {% endfor %}
          </select>
        </div>

      </div>

      <div class="form-actions">
        <a href="{% url 'billing' %}" class="btn-cancel">Cancel</a>
        <button type="submit" class="btn-save">
          <i class="bi bi-check-circle"></i> Save Changes
        </button>
      </div>

    </form>
  </div>

</div>

{% endblock %}
